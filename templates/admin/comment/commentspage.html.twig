{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
    <h1>Commentaires</h1>
    <div class="card bg-light mb-3">
        <div class="card-body">
            {{ form_start(searchForm) }}

            <div class="col-md-6">
                {{ form_row(searchForm.pseudo) }}
            </div>

            <div class="col-md-6">
                {{ form_row(searchForm.start_date) }}
            </div>

            <div class="col-md-6">
                {{ form_row(searchForm.end_date) }}
            </div>

            <div class="text-right">
                <button type="submit" class="button standard">
                    Rechercher
                </button>
            </div>

            {{ form_end(searchForm) }}
        </div>

    </div>

    <table class="table table-striped">
        <tr class="table-dark">
            <th>ID</th>
            <th>Utilisateur</th>
            <th>Commentaire</th>
            <th>Date</th>
            <th></th>
            <th></th>
        </tr>
            {% for comment in comments  %}
        <tr>
            <td>{{ comment.id}}</td>
            <td>{{ comment.userid.pseudo}}</td>
            <td>{{ comment.comment }}</td>
            <td>{{ comment.date|date('d/m/Y') }}</td>
            <td>
                <a href="{{ path('app_admin_comment_modification',{'id':comment.id}) }}" class="button standard">
                    Modifier
                </a>
            </td>
            <td>
                <a href="{{ path('app_admin_comment_delete',{'id':comment.id})}}" class="button delete">
                    Supprimer
                </a>
            </td>
            <td></td>

        </tr>
                {% else %}
                <tr>
                    <td colspan="4" class="text-center">
                        Aucun commentaire
                    </td>
                </tr>
            {% endfor %}
    </table>
{% endblock %}